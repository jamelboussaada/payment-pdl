<app-navbar></app-navbar>

<div class="container my-5">
  <h2 class="text-center mb-4">My Invoices</h2>

  <div *ngIf="invoices.length > 0; else noInvoices" class="card shadow-sm">
    <div class="card-body">
      <ul class="list-group list-group-flush">
        <li *ngFor="let invoicePath of invoices" class="list-group-item d-flex justify-content-between align-items-center py-3">
          <span class="lead">{{ getFileName(invoicePath) }}</span>
          <button class="btn btn-primary" (click)="viewPdf(invoicePath)">View PDF</button>
        </li>
      </ul>
    </div>
  </div>

  <ng-template #noInvoices>
    <div class="alert alert-info text-center mt-4" role="alert">
      No invoices found.
    </div>
  </ng-template>

  <div *ngIf="selectedPdfSrc" class="pdf-viewer-container mt-5 card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">Invoice PDF</h3>
    </div>
    <div class="card-body p-0">
      <ngx-extended-pdf-viewer
        [src]="selectedPdfSrc"
        [textLayer]="true"
        [height]="'80vh'"
        [zoom]="'auto'">
      </ngx-extended-pdf-viewer>
    </div>
  </div>
</div>

<app-footer></app-footer>